<!DOCTYPE html>
<html><head><meta charset="UTF-8"><link href="css/default.css" rel="stylesheet" type="text/css"><script src="js/jquery.min.js" type="text/javascript"></script><script src="js/page_effects.js" type="text/javascript"></script><title>reactnet.core documentation</title></head><body><div id="header"><h2>Generated by <a href="https://github.com/weavejester/codox">Codox</a></h2><h1><a href="index.html">Reactnet 0.1.0-SNAPSHOT API documentation</a></h1></div><div class="sidebar" id="namespaces"><h3><a href="index.html"><span class="inner">Namespaces</span></a></h3><ul><li class="depth-1"><div class="no-link"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>reactnet</span></div></div></li><li class="depth-2 branch current"><a href="reactnet.core.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>core</span></div></a></li><li class="depth-2 branch"><a href="reactnet.example.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>example</span></div></a></li><li class="depth-2 branch"><a href="reactnet.netrefs.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>netrefs</span></div></a></li><li class="depth-2 branch"><a href="reactnet.reactives.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>reactives</span></div></a></li><li class="depth-2 branch"><a href="reactnet.reactor.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>reactor</span></div></a></li><li class="depth-2"><a href="reactnet.scheduler.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>scheduler</span></div></a></li></ul></div><div class="sidebar" id="vars"><h3><a href="#top"><span class="inner">Public Vars</span></a></h3><ul><li class="depth-1"><a href="reactnet.core.html#var-*netref*"><div class="inner"><span>*netref*</span></div></a></li><li class="depth-1"><a href="reactnet.core.html#var--.3EFutureExecutor"><div class="inner"><span>-&gt;FutureExecutor</span></div></a></li><li class="depth-1"><a href="reactnet.core.html#var-add-links.21"><div class="inner"><span>add-links!</span></div></a></li><li class="depth-1"><a href="reactnet.core.html#var-broadcast-value"><div class="inner"><span>broadcast-value</span></div></a></li><li class="depth-1"><a href="reactnet.core.html#var-complete.21"><div class="inner"><span>complete!</span></div></a></li><li class="depth-1"><a href="reactnet.core.html#var-complete-and-propagate.21"><div class="inner"><span>complete-and-propagate!</span></div></a></li><li class="depth-1"><a href="reactnet.core.html#var-default-link-fn"><div class="inner"><span>default-link-fn</span></div></a></li><li class="depth-1"><a href="reactnet.core.html#var-enqueue-values"><div class="inner"><span>enqueue-values</span></div></a></li><li class="depth-1"><a href="reactnet.core.html#var-fvalue"><div class="inner"><span>fvalue</span></div></a></li><li class="depth-1"><a href="reactnet.core.html#var-IExecutor"><div class="inner"><span>IExecutor</span></div></a></li><li class="depth-2"><a href="reactnet.core.html#var-execute"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>execute</span></div></a></li><li class="depth-1"><a href="reactnet.core.html#var-INetworkRef"><div class="inner"><span>INetworkRef</span></div></a></li><li class="depth-2 branch"><a href="reactnet.core.html#var-network"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>network</span></div></a></li><li class="depth-2"><a href="reactnet.core.html#var-update"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>update</span></div></a></li><li class="depth-1"><a href="reactnet.core.html#var-IReactive"><div class="inner"><span>IReactive</span></div></a></li><li class="depth-2 branch"><a href="reactnet.core.html#var-available.3F"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>available?</span></div></a></li><li class="depth-2 branch"><a href="reactnet.core.html#var-completed.3F"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>completed?</span></div></a></li><li class="depth-2 branch"><a href="reactnet.core.html#var-consume.21"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>consume!</span></div></a></li><li class="depth-2 branch"><a href="reactnet.core.html#var-deliver.21"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>deliver!</span></div></a></li><li class="depth-2 branch"><a href="reactnet.core.html#var-last-value"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>last-value</span></div></a></li><li class="depth-2"><a href="reactnet.core.html#var-pending.3F"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>pending?</span></div></a></li><li class="depth-1"><a href="reactnet.core.html#var-link-inputs"><div class="inner"><span>link-inputs</span></div></a></li><li class="depth-1"><a href="reactnet.core.html#var-link-outputs"><div class="inner"><span>link-outputs</span></div></a></li><li class="depth-1"><a href="reactnet.core.html#var-make-async-link-fn"><div class="inner"><span>make-async-link-fn</span></div></a></li><li class="depth-1"><a href="reactnet.core.html#var-make-link"><div class="inner"><span>make-link</span></div></a></li><li class="depth-1"><a href="reactnet.core.html#var-make-network"><div class="inner"><span>make-network</span></div></a></li><li class="depth-1"><a href="reactnet.core.html#var-make-result-map"><div class="inner"><span>make-result-map</span></div></a></li><li class="depth-1"><a href="reactnet.core.html#var-make-sync-link-fn"><div class="inner"><span>make-sync-link-fn</span></div></a></li><li class="depth-1"><a href="reactnet.core.html#var-pp"><div class="inner"><span>pp</span></div></a></li><li class="depth-1"><a href="reactnet.core.html#var-push.21"><div class="inner"><span>push!</span></div></a></li><li class="depth-1"><a href="reactnet.core.html#var-reactive.3F"><div class="inner"><span>reactive?</span></div></a></li><li class="depth-1"><a href="reactnet.core.html#var-remove-links.21"><div class="inner"><span>remove-links!</span></div></a></li><li class="depth-1"><a href="reactnet.core.html#var-safely-apply"><div class="inner"><span>safely-apply</span></div></a></li><li class="depth-1"><a href="reactnet.core.html#var-single-value"><div class="inner"><span>single-value</span></div></a></li><li class="depth-1"><a href="reactnet.core.html#var-update-and-propagate.21"><div class="inner"><span>update-and-propagate!</span></div></a></li><li class="depth-1"><a href="reactnet.core.html#var-value"><div class="inner"><span>value</span></div></a></li><li class="depth-1"><a href="reactnet.core.html#var-values"><div class="inner"><span>values</span></div></a></li><li class="depth-1"><a href="reactnet.core.html#var-with-netref"><div class="inner"><span>with-netref</span></div></a></li><li class="depth-1"><a href="reactnet.core.html#var-zip-values"><div class="inner"><span>zip-values</span></div></a></li></ul></div><div class="namespace-docs" id="content"><h2 class="anchor" id="top">reactnet.core</h2><div class="doc"><div class="markdown"><p>Implementation of a propagation network.</p></div></div><div class="public anchor" id="var-*netref*"><h3>*netref*</h3><h4 class="dynamic">dynamic</h4><div class="usage"></div><div class="doc"><div class="markdown"><p>A reference to a default network.</p></div></div><div class="src-link"><a href="https://github.com/friemen/reactnet/blob/master/src/reactnet/core.clj#L108">view source</a></div></div><div class="public anchor" id="var--.3EFutureExecutor"><h3>-&gt;FutureExecutor</h3><div class="usage"><code>(-&gt;FutureExecutor)</code></div><div class="doc"><div class="markdown"><p>Positional factory function for class reactnet.core.FutureExecutor.</p></div></div><div class="src-link"><a href="https://github.com/friemen/reactnet/blob/master/src/reactnet/core.clj#L752">view source</a></div></div><div class="public anchor" id="var-add-links.21"><h3>add-links!</h3><div class="usage"><code>(add-links! netref &amp; links)</code></div><div class="doc"><div class="markdown"><p>Adds links to the network using update on the networks ref. Returns the network ref.</p></div></div><div class="src-link"><a href="https://github.com/friemen/reactnet/blob/master/src/reactnet/core.clj#L706">view source</a></div></div><div class="public anchor" id="var-broadcast-value"><h3>broadcast-value</h3><div class="usage"><code>(broadcast-value v rs)</code></div><div class="doc"><div class="markdown"><p>Produces a RVT seq where the value v is assigned to every Reactive in rs.</p></div></div><div class="src-link"><a href="https://github.com/friemen/reactnet/blob/master/src/reactnet/core.clj#L154">view source</a></div></div><div class="public anchor" id="var-complete.21"><h3>complete!</h3><div class="usage"><code>(complete! reactive)</code><code>(complete! netref reactive)</code></div><div class="doc"><div class="markdown"><p>Delivers the ::completed value into a reactive and notifies the complete-fn handler of all links that the reactive is an input of. Updates the network according to results of handlers.</p></div></div><div class="src-link"><a href="https://github.com/friemen/reactnet/blob/master/src/reactnet/core.clj#L690">view source</a></div></div><div class="public anchor" id="var-complete-and-propagate.21"><h3>complete-and-propagate!</h3><div class="usage"><code>(complete-and-propagate! n reactive)</code></div><div class="doc"><div class="markdown"><p>Takes a network and a reactive, delivers the ::completed value into the reactive and returns an updated network.</p></div></div><div class="src-link"><a href="https://github.com/friemen/reactnet/blob/master/src/reactnet/core.clj#L669">view source</a></div></div><div class="public anchor" id="var-default-link-fn"><h3>default-link-fn</h3><div class="usage"><code>(default-link-fn {:keys [input-rvts input-reactives output-reactives], :as input})</code></div><div class="doc"><div class="markdown"><p>Pass thru of inputs to outputs. If there is more than one input reactive, zips values of all inputs into a vector, otherwise takes the single value. Returns a Result map with the extracted value assigned to all output reactives.</p></div></div><div class="src-link"><a href="https://github.com/friemen/reactnet/blob/master/src/reactnet/core.clj#L213">view source</a></div></div><div class="public anchor" id="var-enqueue-values"><h3>enqueue-values</h3><div class="usage"><code>(enqueue-values vs r)</code></div><div class="doc"><div class="markdown"><p>Produces an RVT seq where all values in vs are assigned to the same Reactive r.</p></div></div><div class="src-link"><a href="https://github.com/friemen/reactnet/blob/master/src/reactnet/core.clj#L172">view source</a></div></div><div class="public anchor" id="var-fvalue"><h3>fvalue</h3><div class="usage"><code>(fvalue rvts)</code></div><div class="doc"><div class="markdown"><p>Extracts the value from the first of an RVT seq.</p></div></div><div class="src-link"><a href="https://github.com/friemen/reactnet/blob/master/src/reactnet/core.clj#L134">view source</a></div></div><div class="public anchor" id="var-IExecutor"><h3>IExecutor</h3><h4 class="type">protocol</h4><div class="usage"></div><div class="doc"><div class="markdown"></div></div><div class="members"><h4>members</h4><div class="inner"><div class="public anchor" id="var-execute"><h3>execute</h3><div class="usage"><code>(execute e f)</code></div><div class="doc"><div class="markdown"><p>Execute a no-arg function.</p></div></div></div></div></div><div class="src-link"><a href="https://github.com/friemen/reactnet/blob/master/src/reactnet/core.clj#L747">view source</a></div></div><div class="public anchor" id="var-INetworkRef"><h3>INetworkRef</h3><h4 class="type">protocol</h4><div class="usage"></div><div class="doc"><div class="markdown"></div></div><div class="members"><h4>members</h4><div class="inner"><div class="public anchor" id="var-network"><h3>network</h3><div class="usage"><code>(network netref)</code></div><div class="doc"><div class="markdown"><p>Return the network state.</p></div></div></div><div class="public anchor" id="var-update"><h3>update</h3><div class="usage"><code>(update netref f args)</code></div><div class="doc"><div class="markdown"><p>Apply f to the current network state (as first arg) and the arguments given in the args vector.</p></div></div></div></div></div><div class="src-link"><a href="https://github.com/friemen/reactnet/blob/master/src/reactnet/core.clj#L99">view source</a></div></div><div class="public anchor" id="var-IReactive"><h3>IReactive</h3><h4 class="type">protocol</h4><div class="usage"></div><div class="doc"><div class="markdown"></div></div><div class="members"><h4>members</h4><div class="inner"><div class="public anchor" id="var-available.3F"><h3>available?</h3><div class="usage"><code>(available? r)</code></div><div class="doc"><div class="markdown"><p>Returns true if the reactive r would provide a value upon consume!.</p></div></div></div><div class="public anchor" id="var-completed.3F"><h3>completed?</h3><div class="usage"><code>(completed? r)</code></div><div class="doc"><div class="markdown"><p>Returns true if the reactive r will neither accept nor return a new value.</p></div></div></div><div class="public anchor" id="var-consume.21"><h3>consume!</h3><div class="usage"><code>(consume! r)</code></div><div class="doc"><div class="markdown"><p>Returns current value of reactive r and may turn the state into unavailable.</p></div></div></div><div class="public anchor" id="var-deliver.21"><h3>deliver!</h3><div class="usage"><code>(deliver! r value-timestamp-pair)</code></div><div class="doc"><div class="markdown"><p>Sets/adds a pair of value and timestamp to r, returns true if a propagation of the value should be triggered.</p></div></div></div><div class="public anchor" id="var-last-value"><h3>last-value</h3><div class="usage"><code>(last-value r)</code></div><div class="doc"><div class="markdown"><p>Returns latest value of the reactive r.</p></div></div></div><div class="public anchor" id="var-pending.3F"><h3>pending?</h3><div class="usage"><code>(pending? r)</code></div><div class="doc"><div class="markdown"><p>Returns true if r contains values that wait for being consumed.</p></div></div></div></div></div><div class="src-link"><a href="https://github.com/friemen/reactnet/blob/master/src/reactnet/core.clj#L32">view source</a></div></div><div class="public anchor" id="var-link-inputs"><h3>link-inputs</h3><div class="usage"><code>(link-inputs link)</code></div><div class="doc"><div class="markdown"><p>Returns the input-reactives of a link.</p></div></div><div class="src-link"><a href="https://github.com/friemen/reactnet/blob/master/src/reactnet/core.clj#L202">view source</a></div></div><div class="public anchor" id="var-link-outputs"><h3>link-outputs</h3><div class="usage"><code>(link-outputs link)</code></div><div class="doc"><div class="markdown"><p>Returns the output-reactives of a link.</p></div></div><div class="src-link"><a href="https://github.com/friemen/reactnet/blob/master/src/reactnet/core.clj#L196">view source</a></div></div><div class="public anchor" id="var-make-async-link-fn"><h3>make-async-link-fn</h3><div class="usage"><code>(make-async-link-fn executor f)</code><code>(make-async-link-fn executor f result-fn)</code></div><div class="doc"><div class="markdown"><p>Takes a function and wraps it&rsquo;s execution in a future. Any result will be pushed asynchronously to the network.</p></div></div><div class="src-link"><a href="https://github.com/friemen/reactnet/blob/master/src/reactnet/core.clj#L777">view source</a></div></div><div class="public anchor" id="var-make-link"><h3>make-link</h3><div class="usage"><code>(make-link label inputs outputs &amp; {:keys [link-fn error-fn complete-fn complete-on-remove], :or {link-fn default-link-fn}})</code></div><div class="doc"><div class="markdown"><p>Creates a new Link. Label is an arbitrary text, inputs and outputs are sequences of reactives. </p><p>Output reactives are kept using WeakReferences.</p><p>The link-fn is a Link function [Result -&gt; Result] which is called to produce a result from inputs-rvts. Defaults to default-link-fn.</p><p>The error-fn is a function [Result -&gt; Result] which is called when an exception was thrown by the Link function. Defaults to nil.</p><p>The complete-fn is a function [Link Reactive -&gt; Result] which is called for each input reactive that completes. Defaults to nil.</p><p>The sequence complete-on-remove contains all reactives that should be completed when this Link is removed from the network.</p></div></div><div class="src-link"><a href="https://github.com/friemen/reactnet/blob/master/src/reactnet/core.clj#L226">view source</a></div></div><div class="public anchor" id="var-make-network"><h3>make-network</h3><div class="usage"><code>(make-network id links)</code></div><div class="doc"><div class="markdown"><p>Returns a new network.</p></div></div><div class="src-link"><a href="https://github.com/friemen/reactnet/blob/master/src/reactnet/core.clj#L261">view source</a></div></div><div class="public anchor" id="var-make-result-map"><h3>make-result-map</h3><div class="usage"><code>(make-result-map input value)</code><code>(make-result-map {:keys [output-reactives], :as input} value ex)</code></div><div class="doc"><div class="markdown"><p>Input is a Result map as passed into a Link function. If the exception ex is nil produces a broadcasting output-rvts, otherwise adds the exception. Returns an updated Result map.</p></div></div><div class="src-link"><a href="https://github.com/friemen/reactnet/blob/master/src/reactnet/core.clj#L765">view source</a></div></div><div class="public anchor" id="var-make-sync-link-fn"><h3>make-sync-link-fn</h3><div class="usage"><code>(make-sync-link-fn f)</code><code>(make-sync-link-fn f result-fn)</code></div><div class="doc"><div class="markdown"><p>Takes a function and wraps it&rsquo;s execution so that exceptions are caught and the return value is properly assigned to all output reactives.</p></div></div><div class="src-link"><a href="https://github.com/friemen/reactnet/blob/master/src/reactnet/core.clj#L797">view source</a></div></div><div class="public anchor" id="var-pp"><h3>pp</h3><div class="usage"><code>(pp)</code><code>(pp netref)</code></div><div class="doc"><div class="markdown"><p>Pretty print network in netref.</p></div></div><div class="src-link"><a href="https://github.com/friemen/reactnet/blob/master/src/reactnet/core.clj#L722">view source</a></div></div><div class="public anchor" id="var-push.21"><h3>push!</h3><div class="usage"><code>(push! reactive value)</code><code>(push! netref reactive value)</code><code>(push! netref reactive value timestamp)</code></div><div class="doc"><div class="markdown"><p>Starts an update of a reactive and a propagation cycle using the netrefs update function. Returns the value.</p></div></div><div class="src-link"><a href="https://github.com/friemen/reactnet/blob/master/src/reactnet/core.clj#L678">view source</a></div></div><div class="public anchor" id="var-reactive.3F"><h3>reactive?</h3><div class="usage"><code>(reactive? reactive)</code></div><div class="doc"><div class="markdown"><p>Returns true if the reactive satisfies IReactive.</p></div></div><div class="src-link"><a href="https://github.com/friemen/reactnet/blob/master/src/reactnet/core.clj#L113">view source</a></div></div><div class="public anchor" id="var-remove-links.21"><h3>remove-links!</h3><div class="usage"><code>(remove-links! netref pred)</code></div><div class="doc"><div class="markdown"><p>Removes links from the network using update on the networks ref. Returns the network ref.</p></div></div><div class="src-link"><a href="https://github.com/friemen/reactnet/blob/master/src/reactnet/core.clj#L714">view source</a></div></div><div class="public anchor" id="var-safely-apply"><h3>safely-apply</h3><div class="usage"><code>(safely-apply f xs)</code></div><div class="doc"><div class="markdown"><p>Applies f to xs, and catches exceptions. Returns a pair of [result exception], at least one of them being nil.</p></div></div><div class="src-link"><a href="https://github.com/friemen/reactnet/blob/master/src/reactnet/core.clj#L757">view source</a></div></div><div class="public anchor" id="var-single-value"><h3>single-value</h3><div class="usage"><code>(single-value v r)</code></div><div class="doc"><div class="markdown"><p>Produces a sequence with exactly one RVT pair assigned to Reactive r.</p></div></div><div class="src-link"><a href="https://github.com/friemen/reactnet/blob/master/src/reactnet/core.clj#L146">view source</a></div></div><div class="public anchor" id="var-update-and-propagate.21"><h3>update-and-propagate!</h3><div class="usage"><code>(update-and-propagate! network rvt-map)</code></div><div class="doc"><div class="markdown"><p>Updates reactives with the contents of the reactive-values map, and runs propagation cycles as long as values are consumed. Returns the network.</p></div></div><div class="src-link"><a href="https://github.com/friemen/reactnet/blob/master/src/reactnet/core.clj#L654">view source</a></div></div><div class="public anchor" id="var-value"><h3>value</h3><div class="usage"><code>(value [r [v t]])</code></div><div class="doc"><div class="markdown"><p>Extract the value from an RVT.</p></div></div><div class="src-link"><a href="https://github.com/friemen/reactnet/blob/master/src/reactnet/core.clj#L128">view source</a></div></div><div class="public anchor" id="var-values"><h3>values</h3><div class="usage"><code>(values rvts)</code></div><div class="doc"><div class="markdown"><p>Returns a vector with all extracted values from an RVT seq.</p></div></div><div class="src-link"><a href="https://github.com/friemen/reactnet/blob/master/src/reactnet/core.clj#L140">view source</a></div></div><div class="public anchor" id="var-with-netref"><h3>with-netref</h3><h4 class="type">macro</h4><div class="usage"><code>(with-netref netref &amp; exprs)</code></div><div class="doc"><div class="markdown"><p>Binds the given netref to the dynamic var <em>netref</em> and executes the expressions within that binding.</p></div></div><div class="src-link"><a href="https://github.com/friemen/reactnet/blob/master/src/reactnet/core.clj#L734">view source</a></div></div><div class="public anchor" id="var-zip-values"><h3>zip-values</h3><div class="usage"><code>(zip-values vs rs)</code></div><div class="doc"><div class="markdown"><p>Produces an RVT seq where values are position-wise assigned to reactives.</p></div></div><div class="src-link"><a href="https://github.com/friemen/reactnet/blob/master/src/reactnet/core.clj#L163">view source</a></div></div></div></body></html>